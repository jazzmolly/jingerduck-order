<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>薑薑 鴨肉小館 - 九珍薑母鴨 線上點餐</title>
  <style>
    /* 簡化 CSS，聚焦菜單顯示 */
    :root { --brand: #b22222; --muted: #666; }
    * { box-sizing: border-box; }
    body { font-family: Arial, sans-serif; margin: 0; background: #fafafa; padding: 15px; }
    .container { max-width: 1000px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; }
    header { text-align: center; margin-bottom: 25px; }
    h1 { color: var(--brand); }
    .menu-grid { display: grid; grid-template-columns: 1fr 80px 70px; gap: 12px; border: 1px solid #ddd; padding: 10px; border-radius: 6px; }
    .menu-header { background: var(--brand); color: white; padding: 8px; text-align: center; font-weight: bold; }
    .menu-item { padding: 10px 5px; display: contents; border-bottom: 1px solid #eee; }
    .item-name { padding-left: 10px; }
    .item-price { text-align: right; color: var(--muted); }
    .item-qty { text-align: center; }
    .qty-container { display: flex; align-items: center; border: 1px solid #ddd; border-radius: 4px; }
    .qty-btn { width: 25px; height: 25px; border: none; background: #f5f5f5; cursor: pointer; }
    .qty-input { width: 30px; text-align: center; border: none; }
    #total { font-size: 1.2rem; font-weight: bold; color: var(--brand); }
    @media (max-width: 768px) { .menu-grid { grid-template-columns: 1fr 70px 60px; gap: 8px; } }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>薑薑 鴨肉小館</h1>
      <p>九珍薑母鴨 線上點餐</p>
    </header>

    <div class="menu-grid" id="menuGrid">
      <div class="menu-header">品名</div>
      <div class="menu-header">單價</div>
      <div class="menu-header">數量</div>
    </div>

    <div style="text-align: center; margin: 20px 0;">
      <p>目前訂購金額: <span id="total">NT$0</span></p>
    </div>
  </div>

  <script>
    // 簡化 JS，確保菜單載入
    const menuData = [
      { name: "薑母鴨（大, 12塊肉+2300g 湯底）", price: 450 },
      { name: "薑母鴨（中, 9塊肉+1600g 湯底）", price: 350 },
      { name: "薑母鴨（小, 6塊肉+1000g 湯底）", price: 250 },
      { name: "湯底 （1000g)", price: 80 },
      { name: "鴨肉丸", price: 60 },
      { name: "鴨爪", price: 60 },
      { name: "鴨胗", price: 60 },
      { name: "鴨腱", price: 60 },
      { name: "鴨腸", price: 60 },
      { name: "鴨心", price: 60 },
      { name: "鴨肝", price: 60 },
      { name: "鴨血", price: 60 },
      { name: "鴨肉片", price: 60 },
      { name: "凍豆腐", price: 60 },
      { name: "百頁豆腐", price: 60 },
      { name: "香菇", price: 60 },
      { name: "金針菇", price: 60 },
      { name: "杏包菇", price: 60 },
      { name: "米血糕", price: 60 },
      { name: "鑫鑫腸", price: 60 },
      { name: "豆皮", price: 60 },
      { name: "燒麻吉", price: 60 },
      { name: "麵線(現場製作）", price: 50 },
      { name: "牛五花", price: 100 },
      { name: "羊肉片", price: 100 },
      { name: "豬肉片", price: 90 },
      { name: "雞胸肉", price: 90 },
      { name: "魚片", price: 100 },
      { name: "薑汁", price: 50 }
    ];

    // 載入菜單
    document.addEventListener('DOMContentLoaded', function() {
      try {
        const menuGrid = document.getElementById('menuGrid');
        menuData.forEach((item, index) => {
          // 品名
          const nameDiv = document.createElement('div');
          nameDiv.className = 'menu-item item-name';
          nameDiv.innerHTML = `<input type="checkbox" id="cb-${index}" data-price="${item.price}"> ${item.name}`;
          menuGrid.appendChild(nameDiv);
          
          // 價格
          const priceDiv = document.createElement('div');
          priceDiv.className = 'menu-item item-price';
          priceDiv.textContent = `NT$${item.price}`;
          menuGrid.appendChild(priceDiv);
          
          // 數量
          const qtyDiv = document.createElement('div');
          qtyDiv.className = 'menu-item item-qty';
          qtyDiv.innerHTML = `<div class="qty-container"><button class="qty-btn" onclick="changeQty(${index}, -1)">-</button><input type="number" value="0" min="0" id="qty-${index}" style="width:30px;"><button class="qty-btn" onclick="changeQty(${index}, 1)">+</button></div>`;
          menuGrid.appendChild(qtyDiv);
        });
        console.log('菜單載入成功！');
      } catch (error) {
        console.error('菜單載入錯誤：', error);
      }
    });

    // 簡單數量變更函數
    function changeQty(index, delta) {
      const qty = document.getElementById(`qty-${index}`);
      const cb = document.getElementById(`cb-${index}`);
      let val = parseInt(qty.value) + delta;
      if (val < 0) val = 0;
      qty.value = val;
      cb.checked = val > 0;
      calculateTotal();
    }

    // 計算總額
    function calculateTotal() {
      let total = 0;
      menuData.forEach((item, index) => {
        const cb = document.getElementById(`cb-${index}`);
        const qty = document.getElementById(`qty-${index}`);
        if (cb.checked) {
          total += item.price * parseInt(qty.value || 0);
        }
      });
      document.getElementById('total').textContent = `NT$${total}`;
    }
  </script>
</body>
</html>
